<!DOCTYPE html>
<html>

<head>
	<meta name="author" content="Khoa Lam">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width">
	<title> TRUNG TÂM ĐIỀU HÀNH THÔNG MINH TỈNH BÀ RỊA VŨNG TÀU </title>
	<link rel="stylesheet" href="/lib/swiper/swiper-bundle.min.css" />
	<style>
		html,
		body {
			position: relative;
			height: 100%;
		}

		body {
			background: #eee;
			font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
			font-size: 14px;
			color: #000;
			margin: 0;
			padding: 0;
		}

		.swiper {
			width: 100%;
			height: 100%;
		}

		.swiper-slide {
			text-align: center;
			font-size: 18px;
			background: #fff;

			/* Center slide text vertically */
			display: -webkit-box;
			display: -ms-flexbox;
			display: -webkit-flex;
			display: flex;
			-webkit-box-pack: center;
			-ms-flex-pack: center;
			-webkit-justify-content: center;
			justify-content: center;
			-webkit-box-align: center;
			-ms-flex-align: center;
			-webkit-align-items: center;
			align-items: center;
		}

		.swiper-slide img {
			display: block;
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
	</style>

</head>

<body>
	<!-- Slider main container -->
	<div class="swiper" id="slideshow-block">
		<!-- Additional required wrapper -->
		<div class="swiper-wrapper" id="slideshow">
			<!-- Slides -->
		</div>

		<!-- If we need navigation buttons -->
		<div class="swiper-button-prev"></div>
		<div class="swiper-button-next"></div>

	</div>
	<!-- Swiper JS -->
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
	<script>
		const SECOND = 30;
		const SLIDE = [
			{
				name: 'KTXH-THU CHI NGÂN SÁCH',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiOGE1NTAzMTUtYmZlYS00ZWU5LWEzZWMtY2UyYWFmYmY3ZWQzIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'KTXH- DOANH NGHIỆP',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiYmVmOGZjODktMWMwYy00M2ZlLTk4YzAtNDQwNTg4Mzc2ODA3IiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D&pageName=ReportSection3ce2d34e397369071aec'
			},
			{
				name: 'KTXH- CÔNG THƯƠNG ',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiZDYwOWVjN2QtMzI5Yi00ZmJiLTliMzUtNTlhNDUzNjMwM2FjIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D&pageName=ReportSection11b3a3995372a285398b'
			},
			{
				name: 'KTXH- DU LỊCH',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiZDBjZmQ5MjctNTY2Yi00MWE5LWFkMDgtNDVlNTY1MjJkNWE3IiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D&pageName=ReportSection1ec8f6ce5a4ae0bb32a1'
			},
			{
				name: 'Hành chính công - tình hình xử lý hồ sơ',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiMmI5YzEyOWYtNDg4MS00MDk3LWIzNmUtMjU5ZDVmNTZkNWJiIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Hành chính công - Hồ sơ quá hạn trễ hạn',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiMDNjZjAzMDgtNjQxMy00NmNkLTkxNjctMDNkY2NkODc2YmFkIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},

			{
				name: 'Hành chính công - Đường dây nóng',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiMTU0MzA5NWYtNTBhYy00ZTBhLWFkNzItYmNkYjA1Y2QyNWYwIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D&pageName=ReportSectionfcadd890182b4da5edad'
			},
			{
				name: 'Y tế - Covid',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiZDM5ZTNhMDctNWIzMi00YzIwLTk3NzEtMWJlMjYyZTkxMTdiIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Y tế - Thông tin y tế',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNDA5YjA4NmEtMGNkNy00YzNhLThiZmEtOGExZTc1YTBjZDY2IiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},

			{
				name: 'Giáo Dục',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNzc3ZGRmZjktZDUzOS00NDczLWJhMDItNTg3YmIzYWE2ZTNhIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			}
		]

		let slideIndex = 0;
		let slideReady = 0;
		let swiper;
		
		window.addEventListener('load', function (event) {
			SLIDE.forEach(function (e, slideIndex) {
				if (e.load === false) {
					loadFrame(e);
				}
			});
		});
		

		function loadFrame(slide) {

			var iframe = document.createElement('iframe');
			iframe.onload = function () {
				if (slide.load === false) {
					slideReady++;
					console.log('iframe ' + slideReady + ' loaded');
					slide.load = true;
					if (slideReady === SLIDE.length) {
						// Show slide 1
						// showSlide(slideIndex);
						// slideIndex++;

						// setInterval(function () {
						// 	showSlide(slideIndex);
						// 	slideIndex++;
						// 	if (slideIndex >= SLIDE.length) { slideIndex = 0 }
						// }, SECOND * 1000)
						console.log('page is fully loaded');
						swiper = new Swiper('.swiper', {
							// Optional parameters
							loop: true,

							// Navigation arrows
							navigation: {
								nextEl: '.swiper-button-next',
								prevEl: '.swiper-button-prev',
							},
						});
					}
				}
			};

			iframe.style = "height: 100%; width: 100%; position: absolute; top: 0; left: 0; bottom: 0; right: 0; width: 100%; overflow-x: hidden; border: 0";
			iframe.className = "swiper-slide-iframe";
			iframe.src = slide.url;
			iframe.title = slide.name;

			var iframeDiv = document.createElement('div');
			iframeDiv.className = "swiper-slide";
			iframeDiv.appendChild(iframe);
			document.getElementById('slideshow').appendChild(iframeDiv);
		}

		// function showSlide(slideIndex) {
		// 	var i;
		// 	var slide = document.getElementsByClassName("swiper-slide");
		// 	for (i = 0; i < slide.length; i++) {
		// 		slide[i].style.display = "none";
		// 	}
		// 	slide[slideIndex].style.display = "block";
		// 	console.log('showing: ', slide[slideIndex].title);
		// 	let nextRefresh = slideIndex + 2;
		// 	if (nextRefresh >= slide.length) {
		// 		nextRefresh -= slide.length;
		// 	}
		// 	console.log('refresh: ', slide[nextRefresh].title);
		// 	slide[nextRefresh].src += '';
		// }
	</script>
</body>

</html>