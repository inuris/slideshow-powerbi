<!DOCTYPE html>
<html>

<head>
	<meta name="author" content="Khoa Lam">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width">
	<title> TRUNG TÂM ĐIỀU HÀNH THÔNG MINH TỈNH BÀ RỊA VŨNG TÀU </title>
	<style>
		/* Base styles */
		*, *:after, *:before {
			box-sizing: border-box;
		}
		html {
			height: 100%;
		}

		body {
			min-height: 100vh;
			margin: 0;
			padding: 0;
			overflow: hidden;
			background: #1F1E30;
			background: url('images/bg.jpg') no-repeat center center;
			background-size:cover;
			font-family: Arial, Helvetica, sans-serif;
			position: relative;	
		}

		img {
			vertical-align: middle;
			max-width: 100%;
		}

		button {
			cursor: pointer;
			border: 0;
			padding: 0;
			background-color: transparent;
		}

		a {
			text-decoration: none;
			color: #1f91fb;
		}

		a:hover {
			color: #5ba7ed;
		}

		.fl {
			display: block;
			float: left;
		}

		.fr {
			display: block;
			float: right;
		}
		.slideshow{
			display: none;
		}
		/* Container */
		.modal {
			width: 95%;
			max-width: 384px;
			margin: 0 auto;
			position: fixed;
			top: 50%;
			left: 50%;
			margin-left: -192px;
			margin-top: -200px;
			z-index: 200;
		}

		h1.login-logo {
			font-size: 1.2rem;
			line-height: 1.2rem;
			color: #f3f562;
			display: block;
			font-family: Arial;
			font-weight: 700;
			position: relative;
			text-align: center;
			background: #00408a;
			margin-bottom: 0;
			border-top-left-radius: .25em;
			border-top-right-radius: .25em;
			padding: 15px 0 10px 0;
			;
		}

		/* login Card */
		.login {
			position: relative;
		}

		.login h2.login-title {
			font-size: 1.2rem;
			text-align: center;
			font-weight: 700;
			color: #333;
		}

		.login .login-form {
			visibility: visible;
			height: auto;
			opacity: 1;
			padding-top: 0.8em;
		}

		.login .login-fields {
			opacity: 1;
			visibility: visible;
		}

		.login-form {
			position: relative;
			background: white;
			visibility: hidden;
			opacity: 0;
			height: 0;
			padding: 3em;
			border-bottom-left-radius: .25em;
			border-bottom-right-radius: .25em;			
		}

		.login-fields {
			opacity: 0;
			visibility: hidden;
		}

		.login-footer {
			padding-bottom: 0.7em;
		}

		.register .login-footer,
		.forget .login-footer {
			padding: 0.7em 0;
		}



		/* Form */
		.field {
			position: relative;
			margin-bottom: 1.8em;
		}

		.field:after {
			content: "";
			display: table;
			clear: both;
		}

		.label {
			position: absolute;
			height: 2rem;
			line-height: 2rem;
			bottom: 0;
			left: 0;
			color: #ccc;
		}

		.input,
		.select {
			width: 100%;
			font-size: 100%;
			border: 0;
			padding: 0;
			background-color: transparent;
			height: 2rem;
			line-height: 2rem;
			border-bottom: 1px solid #ccc;
			color: #777;
		}

		.input:focus {
			outline: 0;
			border-color: #1f91fb;
		}

		.warning{
			display: none;
			margin-bottom: 1em;
			text-align: center;
		}
		.warning span{
			font-size: 0.8em;
			color: #d00;
			
		}

		/* Using required and a faux pattern to see if input has text from http://stackoverflow.com/questions/16952526/detect-if-an-input-has-text-in-it-using-css */
		.modal .input:focus+.label,
		.modal input:valid+.label,
		.forget .input:focus+.label,
		.forget input:valid+.label {
			transform: translateY(-70%);
			font-size: 0.75rem;
			color: #999;
		}



		/* Button */
		.btn {
			border: 0;
			font-size: 0.75rem;
			height: 2.5rem;
			line-height: 2.5rem;
			padding: 0 1.5rem;
			color: white;
			background: #db442b;
			text-transform: uppercase;
			border-radius: .25rem;
			letter-spacing: .2em;
		}

		.btn:focus {
			outline: 0;
		}

		.btn:hover,
		.btn:focus {
			background: #e56a56;
		}
		.btn.btn-out{
			margin-top: 15px;
			background: #1984c9;
		}

		.login-footer {
			text-align: center;
		}

		.login-footer .btn {
			width: 100%
		}

		@media screen and (max-width: 1024px) {
			html {
				font-size: 80%;
				line-height: 1.2;
			}

			.modal {
				position: relative;
				margin: 0 auto;
				top: 0;
				left: 0;
			}

			.footer {
				position: relative;
			}
		}
	</style>
</head>

<body>
	<div id='modal' class="modal">
		<h1 class="login-logo">
			TRUNG TÂM ĐIỀU HÀNH THÔNG MINH<p style="font-size:0.9rem; color:#fff;font-weight:400; margin: 0; line-height: 1.8;">TỈNH BÀ RỊA VŨNG TÀU</p>
		</h1>
		<div class="login">
			<div class="login-form">
				<h2 class="login-title">Đăng nhập hệ thống</h2>
				<div class="login-fields">
					<div class="field">
						<input type="text" id="fieldUser" class="input" required pattern=.*\S.* />
						<label for="fieldUser" class="label">Tên đăng nhập</label>
					</div>
					<div class="field">
						<input type="password" id="fieldPassword" class="input" onkeyup="" required pattern=.*\S.* />
						<label for="fieldPassword" class="label">Mật khẩu</label>
					</div>
					<div class="field warning">
						<span>Vui lòng kiểm tra lại tên đăng nhập/mật khẩu</span>
					</div>
					<div class="login-footer">
						<button class="btn btn-login" onclick="checkPassword()">Đăng nhập</button>
						<button class="btn btn-out" onclick="window.location.href = 'https://ioc.baria-vungtau.gov.vn'">Đăng Nhập IOC Tỉnh</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="slideshow" class="slideshow">

	</div>
	<script>
		const SECOND = 40;
		const ACCOUNT = {			
			user: 'iocbrvt',
			password: 'Vnpt@1234'
		}
		const SLIDE = [
			{
				name: 'Một cửa CDVC',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNmY5Yjk3MTgtZWU4NS00YWIyLWIxZWEtZDA2ZTJiMGZmMzlmIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D&pageName=ReportSectionecc0bb417f23b12b5ae5'
			},
			{
				name: 'Y tế - Covid',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiYTZjYTc4YzUtZmNjNC00NTEwLWI4Y2QtOTk5M2I3MWVhMTNmIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Covid',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiMWJkMjMyMDMtZjdkMS00MjBjLWIxNzItNDZlZGI2N2Y1ZDdiIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Giáo dục',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiZGM1MGFkY2UtZWFkNC00YzNiLTlhYmYtMTJjOTE1ODcwOWE0IiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'KTXH',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiM2JhMjQyZGItZmIyYi00OTExLWJhYTUtMDFiNWFiZTJhZWI0IiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Đất đai',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNmIyODI0ZDMtZDliNi00OTYzLWJlZTYtMjE0YmQ5NWU5YTExIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Social',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNGI1ZTU1OGEtMWQ1OC00YTZjLTlhNjYtOWQwOWViMDNiNjZhIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			},
			{
				name: 'Phản ánh hiện trường',
				load: false,
				url: 'https://app.powerbi.com/view?r=eyJrIjoiNjY5NjE2ODMtNDczMi00OTc3LWJjMjktM2ViNjBiZTFjMDJhIiwidCI6IjBmOGQxOGNmLTBlZTgtNGIyYy1iYTJjLTZjMGQwMGRmNDNlOCIsImMiOjEwfQ%3D%3D'
			}
		]

		let slideIndex = 0;
		let slideReady = 0;

		let fieldPassword = document.getElementById("fieldPassword");
		fieldPassword.onkeyup = function (e) {
			if (e.which == 13) checkPassword();
		};

		window.addEventListener('load', function(event) {
					
		});

		function loadFrame(slide) {
			var iframe = document.createElement('iframe');
			iframe.onload = function () {
				if (slide.load === false) {
					slideReady++;
					console.log('iframe ' + slideReady + ' loaded');
					slide.load = true;
					if (slideReady === SLIDE.length) {
						setInterval(function () {
							console.log(slideIndex);
							showSlide(slideIndex);
							slideIndex++;
							if (slideIndex >= SLIDE.length) { slideIndex = 0 }
						}, SECOND * 1000)
						console.log('page is fully loaded');
					}
				}
			};

			iframe.style = "height: 100%; width: 100%; position: fixed; z-index: 100; left: 0; top: 0; overflow-x: hidden; border: 0";
			iframe.className = "slide";
			iframe.src = slide.url;
			document.getElementById('slideshow').appendChild(iframe);
		}

		function showSlide(slideIndex) {
			var i;
			var slide = document.getElementsByClassName("slide");
			for (i = 0; i < slide.length; i++) {
				slide[i].style.display = "none";
			}
			slide[slideIndex].style.display = "block";
			let lastSlide = slideIndex - 2;
			if (lastSlide < 0) {
				lastSlide += slide.length;
			}
			slide[lastSlide].src += '';
		}
		function checkPassword(){
			let user = document.getElementById('fieldUser').value;
			let password = document.getElementById('fieldPassword').value;
			if (user === ACCOUNT.user && password === ACCOUNT.password){
				document.getElementById('modal').style.display='none';
				document.getElementById('slideshow').style.display='block';

				SLIDE.forEach(function(e, slideIndex){
					if (e.load === false) {
						loadFrame(e);
					}
				});	

			}
			else{
				document.getElementsByClassName('warning')[0].style.display='block';
			}
		}
	</script>
</body>

</html>